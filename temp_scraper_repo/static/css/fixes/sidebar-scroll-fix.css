/**
 * SIDEBAR SCROLL FIX
 * Fixes the issue where sidebar content is scrolled off-screen
 * Forces sidebar to show from top and ensures all navigation items are visible
 */

/* Reset sidebar scroll position and fix visibility */
.sidebar,
#sidebar,
aside.sidebar,
[class*="sidebar"] {
    /* Ensure sidebar starts at top */
    scroll-behavior: auto !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    
    /* Set proper height constraints */
    max-height: calc(100vh - var(--navbar-height, 60px)) !important;
    min-height: auto !important;
    
    /* Force visibility */
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    
    /* Ensure it stays in position */
    position: sticky !important;
    top: var(--navbar-height, 60px) !important;
}

/* Ensure nav list is fully visible */
.sidebar-nav,
.nav-list {
    /* Remove any transforms that might push content off screen */
    transform: none !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
    
    /* Ensure proper spacing */
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
}

/* Fix any negative margins or positions */
.sidebar > *,
.sidebar-nav > *,
.nav-list > * {
    position: relative !important;
    margin-top: 0 !important;
    transform: translateY(0) !important;
}

/* Ensure first nav item is at the top */
.nav-list > :first-child,
.sidebar-nav > :first-child {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* Fix scrollbar styling to be less intrusive */
.sidebar::-webkit-scrollbar {
    width: 4px !important;
}

.sidebar::-webkit-scrollbar-track {
    background: transparent !important;
}

.sidebar::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2) !important;
    border-radius: 2px !important;
}

.sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.4) !important;
}

/* Dark theme scrollbar */
[data-theme="dark"] .sidebar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4) !important;
}

/* Ensure content doesn't get cut off at the bottom */
.sidebar {
    padding-bottom: 20px !important;
}

/* Force sidebar to scroll to top on load */
@keyframes scrollToTop {
    from { scroll-behavior: auto; }
    to { scroll-behavior: auto; }
}

.sidebar {
    animation: scrollToTop 0.1s ease-out;
}