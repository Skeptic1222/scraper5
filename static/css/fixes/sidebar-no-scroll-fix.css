/**
 * COMPREHENSIVE SIDEBAR FIX - NO SCROLLBAR
 * Removes excessive content height and ensures sidebar never needs scrolling
 * Only shows essential navigation items
 */

/* Force sidebar to have no scrollbar and fixed height */
.sidebar,
#sidebar,
aside.sidebar {
    /* Remove scrollbar completely */
    overflow: hidden !important;
    overflow-y: hidden !important;
    overflow-x: hidden !important;
    
    /* Set proper height to fit content without scrolling */
    height: auto !important;
    max-height: calc(100vh - var(--navbar-height, 60px)) !important;
    min-height: auto !important;
    
    /* Ensure proper positioning */
    position: sticky !important;
    top: var(--navbar-height, 60px) !important;
    
    /* Force visibility */
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    
    /* Padding adjustments */
    padding-top: 20px !important;
    padding-bottom: 20px !important;
}

/* Hide unnecessary sections that make sidebar too tall */
.sidebar .system-status,
.sidebar .user-profile,
.sidebar #user-profile-section,
.sidebar .sidebar-footer,
.sidebar footer {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
}

/* Compact the header */
.sidebar-header {
    margin-bottom: 10px !important;
    padding-bottom: 10px !important;
}

.sidebar-header .logo-section {
    margin-bottom: 10px !important;
}

.sidebar-header h4 {
    font-size: 1.1rem !important;
    margin-bottom: 5px !important;
}

/* Make navigation compact and clean */
.sidebar-nav,
.nav-list {
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 5px !important;
}

/* Compact nav items */
.nav-item {
    padding: 10px 15px !important;
    margin: 0 !important;
    font-size: 0.95rem !important;
}

/* Remove any margins from list items */
.nav-list li {
    margin: 0 !important;
    padding: 0 !important;
}

/* Hide scrollbar for all browsers */
.sidebar::-webkit-scrollbar,
#sidebar::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
}

.sidebar,
#sidebar {
    -ms-overflow-style: none !important;  /* IE and Edge */
    scrollbar-width: none !important;  /* Firefox */
}

/* Ensure nav items are always visible from top */
.sidebar > *:first-child,
.sidebar-nav > *:first-child,
.nav-list > *:first-child {
    margin-top: 0 !important;
}

/* Remove any transforms or translations */
.sidebar *,
#sidebar * {
    transform: none !important;
    transition: background-color 0.2s, color 0.2s !important;
}

/* Ensure sidebar content fits without scroll */
.sidebar {
    display: flex !important;
    flex-direction: column !important;
}

.sidebar-nav {
    flex: 0 0 auto !important;
}

/* Override any JavaScript-set heights */
.sidebar[style*="height"],
#sidebar[style*="height"] {
    height: auto !important;
}

/* Force removal of bottom sections */
.sidebar > *:nth-last-child(-n+3):not(.sidebar-nav):not(.sidebar-header):not(.nav-list) {
    display: none !important;
}

/* Ensure only navigation is visible */
.sidebar > * {
    display: none !important;
}

.sidebar .sidebar-header,
.sidebar .sidebar-nav,
.sidebar .nav-list {
    display: block !important;
}

.sidebar .nav-list {
    display: flex !important;
    flex-direction: column !important;
}

/* Additional specificity to override other styles */
body .sidebar .system-status,
body .sidebar .user-profile,
body .sidebar .sidebar-footer {
    display: none !important;
    height: 0 !important;
    min-height: 0 !important;
    max-height: 0 !important;
    visibility: hidden !important;
    position: absolute !important;
    left: -9999px !important;
}